extends ../layout

block content
    div.container-fluid.p-0
        h1.h3.mb-3 User List
        .row
            .col-12
                .card
                    .card-header
                        .d-flex.justify-content-between.align-items-center
                            h5.card-title.mb-0 All Users
                            a.btn.btn-primary(href="/add-user") 
                                i.align-middle(data-feather="plus")
                                |  Add New User
                    
                    .card-body
                        if messages.error
                            .alert.alert-danger.alert-dismissible.fade.show(role="alert")
                                | #{messages.error}
                                button.btn-close(type="button" data-bs-dismiss="alert" aria-label="Close")
                        
                        if messages.success
                            .alert.alert-success.alert-dismissible.fade.show(role="alert")
                                | #{messages.success}
                                button.btn-close(type="button" data-bs-dismiss="alert" aria-label="Close")

                        if users && users.length > 0
                            .table-responsive
                                table.table.table-striped
                                    thead
                                        tr
                                            th ID
                                            th First Name
                                            th Last Name
                                            th Email
                                            th Join Date
                                            th Actions
                                    tbody
                                        each user in users
                                            tr
                                                td #{user.user_ID}
                                                td #{user.FName}
                                                td #{user.LName}
                                                td #{user.Email}
                                                td #{new Date(user.CreationDate).toLocaleDateString()}
                                                td
                                                    .btn-group
                                                        button.btn.btn-sm.btn-outline-primary(type="button") View
                                                        button.btn.btn-sm.btn-outline-warning(type="button") Edit
                                                        button.btn.btn-sm.btn-outline-danger(type="button") Delete
                        else
                            .text-center.py-4
                                p.text-muted No users found.
                                a.btn.btn-primary(href="/add-user") Add First User


